import{_ as L,u as D,r as c,c as r,y as k,o as F,a as x,w as M,M as j,l as B,E as N,b as l,d as e,n as f,t as y,e as v,v as S,x as V,f as m,h as A,p as E,F as I,j as P}from"./index-C4-4PwnD.js";const T={class:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white relative overflow-hidden"},U={class:"container mx-auto px-4 py-16 relative"},$={class:"flex items-center justify-center gap-4 mb-6"},q={class:"text-4xl md:text-5xl font-bold text-center animate-fade-in"},z={class:"text-xl text-center mb-12 text-blue-100 max-w-2xl mx-auto"},Q={class:"max-w-2xl mx-auto"},R={class:"relative"},G=["placeholder"],H={class:"container mx-auto px-4 py-12"},J={class:"flex justify-end mb-8"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},O={key:0,class:"text-center py-12"},W={__name:"CategoryPage",setup(X){const a=B(),h=D(),n=c(""),i=c("newest"),d=c([]),u=r(()=>a.params.category.charAt(0).toUpperCase()+a.params.category.slice(1)),b=r(()=>({shopping:"fa-shopping-bag",food:"fa-utensils",travel:"fa-plane",electronics:"fa-laptop",fashion:"fa-tshirt",beauty:"fa-spa"})[a.params.category.toLowerCase()]||"fa-tag"),w=r(()=>({shopping:"bg-blue-100 text-blue-600",food:"bg-red-100 text-red-600",travel:"bg-green-100 text-green-600",electronics:"bg-purple-100 text-purple-600",fashion:"bg-orange-100 text-orange-600",beauty:"bg-pink-100 text-pink-600"})[a.params.category.toLowerCase()]||"bg-gray-100 text-gray-600"),_=r(()=>{let s=d.value.filter(t=>t.category.toLowerCase()===a.params.category.toLowerCase());if(n.value){const t=n.value.toLowerCase();s=s.filter(o=>o.description.toLowerCase().includes(t)||o.brand.name.toLowerCase().includes(t))}return s}),p=r(()=>[..._.value].sort((s,t)=>{switch(i.value){case"expiring":return new Date(s.expiryDate)-new Date(t.expiryDate);case"popular":return(t.usageCount||0)-(s.usageCount||0);default:return new Date(t.createdAt||t.expiryDate)-new Date(s.createdAt||s.expiryDate)}})),C=()=>{},g=async()=>{try{const s=await N();d.value=s}catch{h.error("Failed to load coupons")}};return k(()=>a.params.category,()=>{g()}),F(()=>{g()}),(s,t)=>(l(),x(j,null,{default:M(()=>[e("div",T,[t[3]||(t[3]=e("div",{class:"absolute inset-0 bg-grid-white/[0.1] bg-grid-8"},null,-1)),e("div",U,[e("div",$,[e("div",{class:f(["w-16 h-16 rounded-full flex items-center justify-center text-2xl",w.value])},[e("i",{class:f(["fas",b.value])},null,2)],2),e("h1",q,y(u.value)+" Coupons ",1)]),e("p",z," Find the best "+y(u.value.toLowerCase())+" deals and discount codes ",1),e("div",Q,[e("div",R,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),type:"text",placeholder:`Search ${u.value.toLowerCase()} coupons...`,class:"w-full px-6 py-4 rounded-full text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-300 text-lg",onInput:C},null,40,G),[[S,n.value]]),t[2]||(t[2]=e("i",{class:"fas fa-search absolute right-6 top-1/2 -translate-y-1/2 text-gray-400"},null,-1))])])])]),e("div",H,[e("div",J,[v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.value=o),class:"px-4 py-2 rounded-lg bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-300"},t[4]||(t[4]=[e("option",{value:"newest"},"Newest First",-1),e("option",{value:"expiring"},"Expiring Soon",-1),e("option",{value:"popular"},"Most Popular",-1)]),512),[[V,i.value]])]),e("div",K,[(l(!0),m(I,null,A(p.value,o=>(l(),x(E,{key:o.id,coupon:o},null,8,["coupon"]))),128))]),p.value.length===0?(l(),m("div",O,t[5]||(t[5]=[e("div",{class:"text-gray-400 text-6xl mb-4"},[e("i",{class:"fas fa-search"})],-1),e("h3",{class:"text-xl font-semibold text-gray-700 mb-2"},"No Coupons Found",-1),e("p",{class:"text-gray-500"},"Try adjusting your search criteria",-1)]))):P("",!0)])]),_:1}))}},Z=L(W,[["__scopeId","data-v-a6f1a6a4"]]);export{Z as default};
